[build]
# Use Railway's native Python buildpack for better caching
# Only reinstall if requirements.txt changes
command = "pip install --index-url https://download.pytorch.org/whl/cpu torch==2.8.0 torchvision==0.23.0 torchaudio==2.8.0 --no-cache-dir && pip install -r requirements.txt --no-cache-dir"

[deploy]
# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

